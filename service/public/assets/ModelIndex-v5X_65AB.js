import{r as f,i as h,k as g,z as C,e as n,o as D,c as P,f as a,w as s,H as T,A as m,g as S,l as I,J as v}from"./index-nHbdToTU.js";import{_ as V}from"./_plugin-vue_export-helper-x3n3nnut.js";const B={id:"modelIndex"},R={__name:"ModelIndex",setup(U){const p=f(null),r=h(),o=g({modelName:"",modelGroup:"GPT3.5",Description:""}),k={modelName:{required:!0,message:"请输入模型名称",trigger:["input","blur"]},modelGroup:{required:!0,message:"请选择分组",trigger:["input","blur"]}},y=[{label:"GPT3.5",value:"GPT3.5"},{label:"GPT4",value:"GPT4"}],_=f([]),d=g({page:1,pageSize:5,showSizePicker:!0,pageSizes:[5,7],onChange:e=>{d.page=e}}),G=[{title:"模型名称",key:"modelName"},{title:"分组",key:"modelGroup"},{title:"描述",key:"Description"},{title:"操作",key:"操作",render(e){return T(v,{type:"error",size:"small",onClick:()=>w(e)},{default:()=>"删除"})}}],b=e=>{var t;e.preventDefault(),(t=p.value)==null||t.validate(async u=>{if(!u){const l=await m.addModel(o);l.code===200?(r.success("添加成功"),await c()):r.error(l.message)}})},w=async e=>{const t=await m.deleteModel(e);t.code===200?(r.success("删除成功"),await c()):r.error(t.message)},c=async()=>{const e=await m.getModel({page:d.page,pageSize:d.pageSize});e.code===200?_.value=e.data:r.error(e.message)};return C(async()=>{await c()}),(e,t)=>{const u=n("n-input"),l=n("n-form-item"),x=n("n-select"),N=n("n-form"),z=n("n-divider"),M=n("n-data-table");return D(),P("div",B,[a(N,{ref_key:"formRef",ref:p,inline:"",model:o,rules:k,size:"medium"},{default:s(()=>[a(l,{label:"模型名称",path:"modelName"},{default:s(()=>[a(u,{value:o.modelName,"onUpdate:value":t[0]||(t[0]=i=>o.modelName=i),placeholder:"输入模型名称"},null,8,["value"])]),_:1}),a(l,{label:"模型分组",path:"modelGroup"},{default:s(()=>[a(x,{style:{width:"100px"},value:o.modelGroup,"onUpdate:value":t[1]||(t[1]=i=>o.modelGroup=i),options:y},null,8,["value"])]),_:1}),a(l,{label:"描述"},{default:s(()=>[a(u,{value:o.Description,"onUpdate:value":t[2]||(t[2]=i=>o.Description=i),placeholder:"请输入描述"},null,8,["value"])]),_:1}),a(l,null,{default:s(()=>[a(S(v),{"attr-type":"button",onClick:b},{default:s(()=>[I("确定添加")]),_:1})]),_:1})]),_:1},8,["model"]),a(z),a(M,{columns:G,data:_.value,pagination:d},null,8,["data","pagination"])])}}},E=V(R,[["__scopeId","data-v-d4731e55"]]);export{E as default};
